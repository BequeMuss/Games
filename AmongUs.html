<!DOCTYPE html>
<html>
<!--
## Server-Liste ##
-- offiziell --
523967150       # Server1
432072522       # Server2
524390839       # Server3
-- inoffiziell --
647844941       # Server
781110356       # Nicht angegeben
-->
<title>Among  Us</title>
<style>
    body {
        background-color: black;
        color: white;
    }
    #gameFrame {
    display: none; /* iframe anfangs versteckt */
  }
  #loadingText {
    font-size: 24px;
    margin-top: 20px;
  }
    .frame-wrapper {
  width: 100%;
  height: 700px;
  overflow: hidden;
}
</style>
<body>
    <select id="server-select">
        <option value="523967150">Server 1</option>
        <option value="432072522">Server 2</option>
        <option value="524390839">Server 3</option>
        <option value="647844941" selected="selected">Server</option>
    </select>
    <input type="text" id="username" minlength="3" maxlength="10" placeholder=" Name" />
    <button onclick="startGame()">Starten</button>
    <div id="loadingText"></div>
    <div class="frame-wrapper">
  <iframe id="gameFrame" src="" height="800" width="100%" frameborder="0" allowfullscreen></iframe>
</div>

    

    <script>
        function startGame() {
            var selectElement = document.getElementById("server-select");
            var selectedValue = selectElement.value;
            updateIframe(selectedValue);
            const loadingText = document.getElementById('loadingText');
            const iframe = document.getElementById('gameFrame');
        
            let percent = 0;
            loadingText.textContent = `Lade... ${percent}%`;
        
            // Schritt alle 100ms, 10 Sekunden insgesamt
            const interval = setInterval(() => {
                percent++;
                loadingText.textContent = `Lade... ${percent}%`;
        
                if (percent >= 100) {
                    clearInterval(interval);
                    loadingText.style.display = 'none';  // Ladeanzeige ausblenden
                    
                    iframe.style.display = 'block';      // iframe sichtbar machen
                }
            }, 200);
        }
        
        function updateIframe(selectedServer) {
            var username = document.getElementById('username').value;
            var iframeSrc = "https://turbowarp.org/" + selectedServer + "/embed?hqpen&autoplay&fullscreen-background=black&addons=remove-curved-stage-border&username=" + encodeURIComponent(username);
            
            // Setze die URL des Iframes
            document.getElementById('gameFrame').src = iframeSrc;
            document.getElementById('gameFrame').style.display = 'none';

        }
      </script>
</body>
</html>



